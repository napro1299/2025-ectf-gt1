# Functional Requirements

## Encoder
```
EncodedFrame {
  ChannelNumber,
  Timestamp,
  TVFrame,
  GlobalSecrets
}
```

## Decoder

### List Channels
The Decoder must be able to list the channel numbers that the Decoder has a valid subscription for.

### Update Subcriptions
To decode TV frame data, the Decoder must have a valid subscription for that channel. The Decoder must be able to update itâ€™s channel subscriptions with a valid update package. If a subscription update for a channel is received for a channel that already has a subscription, the Decoder must only use the latest subscription update. There is no subscription update associated with the emergency broadcast channel (channel 0). Frames received on this channel must always be properly decoded.

### Decode Frame
Must be able to decode any frame with a valid subscription, as well as the emergency channel (0)

# Security Requirements

## SR 1
Attacker should not be able to decode a TV frame without a decoder with a valid subscription.
* Knowledge of plaintext of one encoded frame should not compromise the rest of the communication.

## SR 2
The Decoder should only decode valid TV frames generated by the Satellite System the Decoder was provisioned for.

## SR 3
The Decoder should only decode frames with strictly monotonically increasing timestamps.

Not valid: 
* Timestamp: 1
* Timestamp: 2
* Timestamp: 3
* Timestamp: 1 (REJECTED)

# Our Design
Since shared secrets are embedded in the decoder during the build process, we can store keys used to decrypt encoded frames.

Tools at our disposal:
* AES256 for symmetric encryption
* SHA256 or Blake2 (faster) for checksums and verification
* Public key cryptography RSA or ECDH (Elliptic Curve Diffie-Helman) if needed
